
/**
 * 由 Fantastic-admin 提供技術支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{_ as E}from"./index.vue_vue_type_script_setup_true_lang-DpYLhOHb.js";import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-BTce45WY.js";import{d as M,u as O,r as u,m as P,a as G,p as c,q as H,g as s,c as b,b as l,w as t,i as n,T as C,v as I,x as j,F as W,s as N,h as m,y as J,z as f,D as Q,e as X,E as Y,G as R,t as Z,k as S}from"./index-nGFMSQGw.js";import{A as g}from"./badWords-C1vgC_-i.js";import{E as ee}from"./index-BE-LteFu.js";const te=X("div",{class:"flex items-center gap-4"},"自定義敏感詞",-1),ae=M({__name:"custom",setup(le){O();const k=u(),T=u(0),p=u(!1),r=P({word:"",status:"",page:1,size:500}),V=u();async function i(){try{p.value=!0;const o=await g.queryBadWords(r),{rows:a,count:v}=o.data;p.value=!1,T.value=v,V.value=a}catch{p.value=!1}}function D(o){o==null||o.resetFields(),i()}G(()=>{i()});const d=u(""),_=u(!1),B=u();async function z(o){await g.delBadWords({id:o}),R.success("刪除敏感詞成功"),await i()}function A(){_.value=!0,Y(()=>{B.value.input.focus()})}async function h(){d.value&&(await g.addBadWords({word:d.value}),R.success("添加敏感詞成功"),r.status="",await i()),_.value=!1,d.value=""}return(o,a)=>{const v=F,w=c("el-form-item"),K=c("el-option"),L=c("el-select"),y=c("el-button"),U=c("el-form"),x=E,$=c("el-tag"),q=H("loading");return s(),b("div",null,[l(v,null,{title:t(()=>[te]),_:1}),l(x,null,{default:t(()=>[l(U,{ref_key:"formRef",ref:k,inline:!0,model:r},{default:t(()=>[l(w,{label:"敏感詞",prop:"word"},{default:t(()=>[l(n(C),{modelValue:r.word,"onUpdate:modelValue":a[0]||(a[0]=e=>r.word=e),placeholder:"敏感詞[模糊搜索]",onKeydown:I(j(i,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])]),_:1}),l(w,{label:"敏感詞狀態",prop:"status"},{default:t(()=>[l(L,{modelValue:r.status,"onUpdate:modelValue":a[1]||(a[1]=e=>r.status=e),placeholder:"請選擇敏感詞狀態",clearable:"",style:{width:"160px"}},{default:t(()=>[(s(!0),b(W,null,N(n(ee),e=>(s(),f(K,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(w,null,{default:t(()=>[l(y,{type:"primary",onClick:i},{default:t(()=>[m(" 查詢 ")]),_:1}),l(y,{onClick:a[2]||(a[2]=e=>D(n(k)))},{default:t(()=>[m(" 重置 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),J((s(),f(x,{style:{width:"100%"}},{default:t(()=>[(s(!0),b(W,null,N(n(V),e=>(s(),f($,{key:e.id,type:"warning",class:"mb-3 mr-3",closable:"",hit:"","disable-transitions":!0,onClose:oe=>z(e.id)},{default:t(()=>[m(Z(e.word),1)]),_:2},1032,["onClose"]))),128)),n(_)?(s(),f(n(C),{key:0,ref_key:"InputRef",ref:B,modelValue:n(d),"onUpdate:modelValue":a[3]||(a[3]=e=>Q(d)?d.value=e:null),class:"ml-1",style:{width:"80px"},size:"small",onKeyup:I(h,["enter"]),onBlur:h},null,8,["modelValue"])):(s(),f(y,{key:1,class:"ml-1",size:"small",onClick:A},{default:t(()=>[m(" + New Word ")]),_:1}))]),_:1})),[[q,n(p)]])])}}});typeof S=="function"&&S(ae);export{ae as default};
