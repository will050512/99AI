
/**
 * 由 Fantastic-admin 提供技術支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-BTce45WY.js";import{d as y,m as D,r as M,n as c,a as q,p as i,g as J,c as T,b as e,w as l,h,e as g,G as V,j as B,_ as $,k as b}from"./index-nGFMSQGw.js";import{a as C}from"./config-CYXO1pNF.js";const E=g("div",{class:"flex items-center gap-4"},"基礎訪問設置",-1),H=g("div",{class:"text-sm/6"},[g("div",null," 註冊與訪問設置支持為新用戶定義默認贈送額度，涵蓋對話次數、普通繪畫次數和高級繪畫次數。 "),g("div",null," 系統還為最初註冊的前x名用戶提供額外獎勵，同時允許通過邀請機制為新用戶及邀請者設置特定的獎勵額度。 "),g("div",null," 此外，管理員可配置簽到獎勵和為訪客分配可使用的額度，以鼓勵日常活躍和吸引更多用戶體驗平臺。 ")],-1),O=g("h5",null,"註冊贈送",-1),A=g("h5",null,"限定註冊贈送",-1),G=g("h5",null,"簽到獎勵",-1),K=g("h5",null,"訪客設置",-1),P=y({__name:"register",setup(z){const t=D({registerSendStatus:"",registerSendModel3Count:"",registerSendModel4Count:"",registerSendDrawMjCount:"",firstRegisterSendStatus:0,firstRegisterSendRank:"",firstRregisterSendModel3Count:"",firstRregisterSendModel4Count:"",firstRregisterSendDrawMjCount:"",signInStatus:"",signInModel3Count:"",signInModel4Count:"",signInMjDrawToken:"",visitorModel3Num:null,visitorModel4Num:null,visitorMJNum:null}),v=M({visitorModel3Num:[{required:!0,trigger:"blur",message:"請填寫每日限制的基礎模型積分"}],visitorModel4Num:[{required:!0,trigger:"blur",message:"請填寫每日限制的高級模型積分"}],visitorMJNum:[{required:!0,trigger:"blur",message:"請填寫每日限制的繪畫額度積分"}],signInStatus:[{required:!0,trigger:"blur",message:"請選擇是否開啟簽到獎勵"}],signInModel3Count:[{required:!0,trigger:"blur",message:"請填寫贈送的基礎模型額度"}],signInModel4Count:[{required:!0,trigger:"blur",message:"請填寫贈送的高級模型額度"}],signInMjDrawToken:[{required:!0,trigger:"blur",message:"請填寫贈送的繪畫Token數量"}],registerSendStatus:[{required:!0,trigger:"change",message:"請確認是否開啟註冊贈送"}],firstRegisterSendStatus:[{required:!0,trigger:"change",message:"請確認是否開啟優先註冊贈送"}]}),p=M();async function _(){const a=await C.queryConfig({keys:["visitorModel4Num","visitorModel3Num","visitorMJNum","registerSendStatus","registerSendModel3Count","registerSendModel4Count","registerSendDrawMjCount","firstRegisterSendStatus","firstRegisterSendRank","firstRregisterSendModel3Count","firstRregisterSendModel4Count","firstRregisterSendDrawMjCount","signInModel3Count","signInModel4Count","signInMjDrawToken","signInStatus"]});a.data.firstRegisterSendStatus&&(a.data.firstRegisterSendStatus=Number(a.data.firstRegisterSendStatus)),a.data.registerSendStatus&&(a.data.registerSendStatus=Number(a.data.registerSendStatus)),Object.assign(t,a.data)}function x(){var a;(a=p.value)==null||a.validate(async n=>{if(n){try{await C.setConfig({settings:R(t)}),V.success("變更配置資訊成功")}catch{}_()}else V.error("請填寫完整資訊")})}function R(a){return Object.keys(a).map(n=>({configKey:n,configVal:a[n]}))}return c(()=>[{required:t.firstRegisterSendStatus,message:"開啟優先註冊贈送選項後需填寫此項",trigger:"change"}]),c(()=>[{required:t.registerSendStatus,message:"開啟註冊贈送選項後需填寫此項",trigger:"change"}]),q(()=>{_()}),(a,n)=>{const S=B,I=$,w=U,m=i("el-switch"),o=i("el-form-item"),u=i("el-col"),d=i("el-row"),s=i("el-input"),f=i("el-divider"),N=i("el-tooltip"),k=i("el-form"),j=i("el-card");return J(),T("div",null,[e(w,null,{title:l(()=>[E]),content:l(()=>[H]),default:l(()=>[e(I,{outline:"",text:"",onClick:x},{default:l(()=>[e(S,{name:"i-ri:file-text-line"}),h(" 保存設置 ")]),_:1})]),_:1}),e(j,{style:{margin:"20px"}},{default:l(()=>[e(k,{ref_key:"formRef",ref:p,rules:v.value,model:t,"label-width":"220px"},{default:l(()=>[O,e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"是否開啟註冊贈送",prop:"registerSendStatus"},{default:l(()=>[e(m,{modelValue:t.registerSendStatus,"onUpdate:modelValue":n[0]||(n[0]=r=>t.registerSendStatus=r),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"註冊贈送基礎模型對話額度",prop:"registerSendModel3Count"},{default:l(()=>[e(s,{modelValue:t.registerSendModel3Count,"onUpdate:modelValue":n[1]||(n[1]=r=>t.registerSendModel3Count=r),placeholder:"首次註冊贈基礎模型對話額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"註冊贈送高級模型對話額度",prop:"registerSendModel4Count"},{default:l(()=>[e(s,{modelValue:t.registerSendModel4Count,"onUpdate:modelValue":n[2]||(n[2]=r=>t.registerSendModel4Count=r),placeholder:"首次註冊贈高級模型對話額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"註冊贈送繪畫額度",prop:"registerSendDrawMjCount"},{default:l(()=>[e(s,{modelValue:t.registerSendDrawMjCount,"onUpdate:modelValue":n[3]||(n[3]=r=>t.registerSendDrawMjCount=r),placeholder:"首次註冊贈送MJ額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f),A,e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"開啟優先註冊贈送",prop:"firstRegisterSendStatus"},{default:l(()=>[e(m,{modelValue:t.firstRegisterSendStatus,"onUpdate:modelValue":n[4]||(n[4]=r=>t.firstRegisterSendStatus=r),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"前多少名獲得獎勵",prop:"firstRegisterSendRank"},{default:l(()=>[e(s,{modelValue:t.firstRegisterSendRank,"onUpdate:modelValue":n[5]||(n[5]=r=>t.firstRegisterSendRank=r),placeholder:"設置優先註冊前N名可以獲得獎勵",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"優先贈基礎模型送對話額度",prop:"firstRregisterSendModel3Count"},{default:l(()=>[e(s,{modelValue:t.firstRregisterSendModel3Count,"onUpdate:modelValue":n[6]||(n[6]=r=>t.firstRregisterSendModel3Count=r),placeholder:"優先註冊用戶額外贈送基礎模型對話額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"優先贈高級模型送對話額度",prop:"firstRregisterSendModel4Count"},{default:l(()=>[e(s,{modelValue:t.firstRregisterSendModel4Count,"onUpdate:modelValue":n[7]||(n[7]=r=>t.firstRregisterSendModel4Count=r),placeholder:"優先註冊用戶額外贈送高級模型對話額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"優先贈送繪畫額度",prop:"firstRregisterSendDrawMjCount"},{default:l(()=>[e(s,{modelValue:t.firstRregisterSendDrawMjCount,"onUpdate:modelValue":n[8]||(n[8]=r=>t.firstRregisterSendDrawMjCount=r),placeholder:"優先註冊用戶額外贈送MJ額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f),G,e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"開啟簽到獎勵",prop:"signInStatus"},{default:l(()=>[e(N,{class:"box-item",effect:"dark",content:"如您啟用簽到獎勵、則用戶端則可以通過每日簽到獲取額度！",placement:"right"},{default:l(()=>[e(m,{modelValue:t.signInStatus,"onUpdate:modelValue":n[9]||(n[9]=r=>t.signInStatus=r),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"贈送基礎模型額度",prop:"signInModel3Count"},{default:l(()=>[e(s,{modelValue:t.signInModel3Count,"onUpdate:modelValue":n[10]||(n[10]=r=>t.signInModel3Count=r),type:"number",placeholder:"請填寫簽到贈送的基礎模型額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"贈送高級模型額度",prop:"signInModel4Count"},{default:l(()=>[e(s,{modelValue:t.signInModel4Count,"onUpdate:modelValue":n[11]||(n[11]=r=>t.signInModel4Count=r),type:"number",placeholder:"請填寫簽到贈送的高級模型額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"贈送繪畫額度",prop:"signInMjDrawToken"},{default:l(()=>[e(s,{modelValue:t.signInMjDrawToken,"onUpdate:modelValue":n[12]||(n[12]=r=>t.signInMjDrawToken=r),type:"number",placeholder:"請填寫簽到贈送繪畫額度",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f),K,e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"基礎模型額度",prop:"visitorModel3Num"},{default:l(()=>[e(s,{modelValue:t.visitorModel3Num,"onUpdate:modelValue":n[13]||(n[13]=r=>t.visitorModel3Num=r),type:"number",placeholder:"請填寫每日限制基礎模型積分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"高級模型額度",prop:"visitorModel4Num"},{default:l(()=>[e(s,{modelValue:t.visitorModel4Num,"onUpdate:modelValue":n[14]||(n[14]=r=>t.visitorModel4Num=r),type:"number",placeholder:"請填寫每日限制的高級模型積分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(o,{label:"繪畫積分額度",prop:"visitorMJNum"},{default:l(()=>[e(s,{modelValue:t.visitorMJNum,"onUpdate:modelValue":n[15]||(n[15]=r=>t.visitorMJNum=r),type:"number",placeholder:"請填寫每日限制的繪畫額度積分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof b=="function"&&b(P);export{P as default};
